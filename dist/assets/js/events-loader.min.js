let eventsData=[],currentFilter="all";async function loadEventsFromJSON(){try{var e=await(await fetch("/assets/js/events-data.json")).json();eventsData=e.events,renderEvents()}catch(e){console.error("Error cargando eventos:",e)}}function renderEvents(t="all"){const r=document.getElementById("events-container");var e,a=document.getElementById("no-events");r&&(e="all"===t?eventsData:eventsData.filter(e=>e.category===t),r.innerHTML="",0===e.length?a&&a.classList.remove("hidden"):(a&&a.classList.add("hidden"),e.forEach(e=>{e=createEventCard(e);r.appendChild(e)})))}function createEventCard(e){var t,r=document.createElement("div"),a=(r.className="group bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm hover:shadow-xl hover:border-gray-300 transition-all duration-300",r.setAttribute("data-aos","fade-up"),"external"===e.linkType?'target="_blank" rel="noopener noreferrer"':""),n="external"===e.linkType?'<i class="fas fa-external-link-alt ml-1 text-xs"></i>':"";return r.innerHTML=`
        <div class="relative h-48 overflow-hidden">
            <img src="${e.image}" alt="${e.title}" 
                 class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
                 onerror="this.src='/assets/images/hero/hero-1.jpg'">
            <div class="absolute top-4 left-4">
                <span class="${{running:"bg-blue-500/10 text-blue-600",triatlon:"bg-purple-500/10 text-purple-600",ciclismo:"bg-green-500/10 text-green-600",trail:"bg-orange-500/10 text-orange-600"}[e.category]} font-semibold rounded-full text-xs py-1.5 px-3">
                    ${{running:"Running",triatlon:"Triatl√≥n",ciclismo:"Ciclismo",trail:"Trail Running"}[e.category]}
                </span>
            </div>
        </div>
        <div class="p-6">
            <h3 class="text-xl font-bold mb-3 group-hover:text-primary transition-colors">
                ${e.title}
            </h3>
            <div class="space-y-2 mb-4">
                <div class="flex items-center text-sm text-gray-600">
                    <i class="fas fa-calendar-alt w-5 text-primary"></i>
                    <span>${t=e.date,new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})}</span>
                </div>
                <div class="flex items-center text-sm text-gray-600">
                    <i class="fas fa-map-marker-alt w-5 text-primary"></i>
                    <span>${e.location}</span>
                </div>
                <div class="flex items-center text-sm text-gray-600">
                    <i class="fas fa-users w-5 text-primary"></i>
                    <span>${e.participants.toLocaleString("es-ES")} participantes</span>
                </div>
            </div>
            <a href="${e.link}" ${a}
               class="inline-flex items-center justify-center w-full bg-orange-400 text-white font-medium rounded-lg py-2.5 px-4 hover:bg-orange-500 transition-colors">
                Ver Resultados ${n}
            </a>
        </div>
    `,r}function filterEvents(e){currentFilter=e,document.querySelectorAll(".filter-btn").forEach(e=>{e.classList.remove("active","bg-primary","text-white","border-primary")}),event.target.classList.add("active","bg-primary","text-white","border-primary"),renderEvents(e)}document.addEventListener("DOMContentLoaded",()=>{loadEventsFromJSON()});